{"version":3,"sources":["bmOut.js"],"names":[],"mappings":"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","file":"bmOut-compiled.js","sourcesContent":["/**\n * 手机钱庄\n * @name 在投资金\n * @description 单页js\n * @date 2015-08-11\n */\ndefine(function (require, exports, module) {\n\n    require('zepto');\n    var pageUrl = require('module/ajax-map'),\n        base=require('module/base'),\n        Pop = require('module/dialog'),\n        cookie=require('module/cookie'),\n        Handlebars = require('module/handlebars-helper'),\n        activeBtn = require('module/activate-btn'),\n        oneSession = require('module/one-session');\n\n\n    //module.exports = function () {\n    //--------------------------------------------------【渲染页面】\n        var tpl =__inline('../tpl/pageBmOut.tpl');\n        var myTemplate = Handlebars.compile(tpl);\n        base.ajax({\n            url: pageUrl.tendering.url,\n            type: \"post\",\n            data: {\n                oauthToken:cookie.getCookie('qz_h5_oauthToken'),\n                appId:pageUrl.appId,\n                service:pageUrl.tendering.service\n            },\n            dataType: \"json\",\n            async: false,\n            success: function (data) {\n                $('#pageBmOut').html(myTemplate(data.resultData));\n            }\n        });\n    //--------------------------------------------------【设置忘记密码的url重定向】\n    $('#forgetBtn').on('click',function(){\n        oneSession.set('redirectURL',location.href);\n    });\n\n    //--------------------------------------------------【表单按钮状态】\n        new activeBtn();\n    //--------------------------------------------------【点击按钮跳转结果】\n        var bmOut = $('#pageBmOut');\n        var alertPop = new Pop('alert');\n        var moneyInput = $('#money');\n        var passwordInput = $('#password');\n        var isSubmitLock = false;\n\n        moneyInput.on('input', function(){\n            var $this = $(this),\n                val = $this.val();\n            $this.val(val.replace(/\\D/g,''));\n        });\n        bmOut.find('.j-submit').on('click', function(){\n            if(isSubmitLock) return;\n            isSubmitLock = true;\n\n            var _money = moneyInput.val();\n            var _password = passwordInput.val();\n            base.ajax({\n                url: pageUrl.bmOut.url,\n                type: \"post\",\n                data: {\n                    'oauthToken':cookie.getCookie('qz_h5_oauthToken'),\n                    'appId': pageUrl.appId,\n                    'service': pageUrl.bmOut.service,\n                    'outMoney': _money,\n                    'payPwd': base.encryptedPwd(_password)\n                },\n                dataType: \"json\",\n                success: function (data) {\n                    if (data.resultCode == 0) {\n                        alertPop.run(data.resultMsg);\n                        return false;\n                    }\n                    var _orderNo = data.resultData.orderNo;\n                    window.location.replace('bmOutResult.html?orderNo='+_orderNo);\n\n                },\n                timeout: 10000,\n                error: function () {\n                    alertPop.run('请求超时请重新再试');\n                },\n                beforeFunc:function(){\n                    isSubmitLock = false;\n                }\n            });\n        });\n\n    //--------------------------------------------------【暴露接口内存回收】\n    return function () {\n\n    };\n    //};\n});\n"]}