{"version":3,"sources":["proDetails.js"],"names":[],"mappings":";;;;;;;;AAMA,MAAM,CAAC,UAAU,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE;;AAEvC,WAAO,CAAC,OAAO,CAAC,CAAC;AACjB,WAAO,CAAC,0BAA0B,CAAC,CAAC;AACpC,QAAI,IAAI,GAAG,OAAO,CAAC,aAAa,CAAC;QAC7B,OAAO,GAAG,OAAO,CAAC,iBAAiB,CAAC;QACpC,MAAM,GAAG,OAAO,CAAC,eAAe,CAAC;QACjC,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC;QAClC,UAAU,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;;AAE/C,UAAM,CAAC,OAAO,GAAG,YAAY;AACzB,YAAI,QAAQ,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;;;AAGnC,SAAC,CAAC,sCAAsC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;AAC9D,sBAAU,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;SAChD,CAAC,CAAC;AACH,SAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;AACxC,oBAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SAC7B,CAAC,CAAC;;AAEH,SAAC,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,YAAY;AAC5C,gBAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;gBACf,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC7C,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC;gBACzC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AAC1C,gBAAI,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC;gBACnC,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;AACpC,iBAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACf,gBAAI,MAAM,GAAG,WAAW,EAAE;AACtB,sBAAM,GAAG,WAAW,CAAC;AACrB,qBAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;aACrB;AACD,gBAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;AACf,oBAAI,IAAI,GAAG,SAAS,EAAE;AAClB,wBAAI,GAAG,SAAS,CAAC;AACjB,yBAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iBACnB;AACD,0BAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aAC5B,MAAM;AACH,0BAAU,CAAC,MAAM,CAAC,CAAC;aACtB;AACD,aAAC,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAA,CAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACvF,CAAC,CAAC;AACH,YAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;AACf,sBAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,CAAA;SACnD,MAAM;AACH,sBAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,CAAA;SACjC;AACD,SAAC,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAA,CAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACpF,iBAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE;AAC9B,gBAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC7B,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC9C,MAAM,GAAG,CAAC,CAAC;AACf,gBAAI,CAAC,MAAM,EAAE;AACT,sBAAM,GAAG,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;aAC7C;AACD,gBAAI,CAAC,IAAI,EAAE;AACP,oBAAI,GAAG,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;aACxC;AACD,gBAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;;;AAGxB,sBAAM,GAAG,CAAC,MAAM,GAAG,GAAG,IAAI,IAAI,GAAG,CAAC,CAAA,AAAC,GAAG,KAAK,CAAA,CAAE,OAAO,CAAC,CAAC,CAAC,CAAC;aAC3D,MAAM;;;AAGH,sBAAM,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,WAAW,CAAA,CAAE,OAAO,CAAC,CAAC,CAAC,CAAC;aAC5D;AACD,aAAC,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACjC;;;AAGD,YAAI,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9B,YAAI,cAAc,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC;AAC1C,YAAI,cAAc,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC;AAC1C,gBAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;AAC7B,sBAAU,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC,EAAE;AACxD,uBAAO,EAAE,KAAK;aACjB,CAAC,CAAC;AACH,mBAAO,CAAC,oBAAoB,CAAC,CAAC;SACjC,CAAC,CAAC;AACH,SAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;AACjC,gBAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AACpB,gBAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACvC,gBAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AAC3C,sBAAU,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;AAC9D,uBAAO,EAAE,KAAK;aACjB,CAAC,CAAC;SACN,CAAC,CAAC;;AAEH,eAAO,YAAY,EAElB,CAAA;KACJ,CAAC;CACL,CAAC,CAAC","file":"proDetails-compiled.js","sourcesContent":["/**\n * 手机钱庄\n * @name 产品详情页\n * @description 单页js\n * @date 2015-07-16\n */\ndefine(function (require, exports, module) {\n\n    require('zepto');\n    require('module/handlebars-helper');\n    var base = require('module/base'),\n        pageUrl = require('module/ajax-map'),\n        Dialog = require('module/dialog'),\n        Mobilebone = require('mobilebone'),\n        oneSession = require('module/one-session');\n\n    module.exports = function () {\n        var popAlert = new Dialog('alert');\n//--------------------------------------------------【申购按钮各种状态绑定不同的行为】\n        // 添加session做页面返回的重定向\n        $('#realNameBtn,#forgetTransPasswordBtn').on('click', function () {\n            oneSession.set('redirectURL', location.href);\n        });\n        $('#newHandBuyBtn').on('click', function () {\n            popAlert.run('该产品仅限新手投资');\n        });\n//--------------------------------------------------【计算收益】\n        $('#amount,#days').on('input blur', function () {\n            var _this = $(this),\n                totalAmount = Number($(\"#totalAmount\").val()),\n                totalDays = Number($(\"#totalDays\").val()),\n                val = _this.val().replace(/\\D+/g, \"\");\n            var amount = Number($(\"#amount\").val()),\n                days = Number($('#days').val());\n            _this.val(val);\n            if (amount > totalAmount) {\n                amount = totalAmount;\n                _this.val(amount);\n            }\n            if ($('#days')[0]) {\n                if (days > totalDays) {\n                    days = totalDays;\n                    _this.val(days);\n                }\n                clacProfit(amount, days);\n            } else {\n                clacProfit(amount);\n            }\n            $('#bankIncome').html(($('#clacProfit').html() / $('#multiple').html()).toFixed(2));\n        });\n        if ($('#days')[0]) {\n            clacProfit($(\"#amount\").val(), $(\"#days\").val())\n        } else {\n            clacProfit($(\"#amount\").val())\n        }\n        $('#bankIncome').html(($('#clacProfit').html() / $('#multiple').html()).toFixed(2));\n        function clacProfit(amount, days) {\n            var apr = Number($('#apr').val()),\n                interestDay = Number($('#interest_day').val()),\n                profit = 0;\n            if (!amount) {\n                amount = Number($(\"#totalAmount2\").val());\n            }\n            if (!days) {\n                days = Number($(\"#totalDays\").val());\n            }\n            if (arguments.length === 2) {\n\n                //金额 * 年化率 * (day-1) / 36500\n                profit = (amount * apr * (days - 1) / 36500).toFixed(2);\n            } else {\n\n                //金额 * 年化率  / 36500*计息天数\n                profit = (amount * apr / 36500 * interestDay).toFixed(2);\n            }\n            $('#clacProfit').html(profit);\n        }\n\n        //--------------------------------------------------【未登录，弹窗登录】\n        var loginBtn = $('#loginBtn');\n        var pageLoginCheck = $('#pageLoginCheck');\n        var pageProDetails = $('#pageProDetails');\n        loginBtn.on('click', function () {\n            Mobilebone.transition(pageLoginCheck[0], pageProDetails[0], {\n                history: false\n            });\n            require('page/proLoginCheck');\n        });\n        $('.goback').on('click', function () {\n            var $this = $(this);\n            var fromPage = $this.attr('data-from');\n            var backPage = $this.attr('data-backpage');\n            Mobilebone.transition($('#' + backPage)[0], $('#' + fromPage)[0], {\n                history: false\n            });\n        });\n        //--------------------------------------------------【暴露接口内存回收】\n        return function () {\n\n        }\n    };\n});"]}