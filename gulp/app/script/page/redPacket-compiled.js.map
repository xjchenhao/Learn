{"version":3,"sources":["redPacket.js"],"names":[],"mappings":"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","file":"redPacket-compiled.js","sourcesContent":["/**\n * 手机钱庄\n * @name 红包和奖励\n * @description 单页js\n * @date 2015-08-10\n */\ndefine(function (require, exports, module) {\n\n    require('zepto');\n    var pageUrl = require('module/ajax-map'),\n        base=require('module/base'),\n        cookie=require('module/cookie'),\n        Handlebars = require('module/handlebars-helper'),\n        LoadDate = require('module/load-data'),\n        hrefParameter=require('module/href-parameter'),\n        dateFormat=require('module/date-format'),\n        Tab = require('module/tab');\n\n    // 这里没有做路由,而是直接在页面js上载入数据,所以不需要暴露模块接口给路由js调用\n    //module.exports = function () {\n    //--------------------------------------------------【渲染页面】\n    var redPacketTpl =__inline('../tpl/redPacketList.tpl');\n    var redPacketTemplate = Handlebars.compile(redPacketTpl);\n\n    var cashAwardTpl =__inline('../tpl/cashAwardRecord.tpl');\n    var cashAwardTemplate = Handlebars.compile(cashAwardTpl);\n\n    var redPacket = '#redPacketRecord';\n    var cashAward = '#cashAwardRecord';\n    var redPacketUrl = pageUrl.redPacket;\n    var cashAwardUrl = pageUrl.cashAwardRecord;\n    // 切换请求列表参数\n    // [container: string, url, tpl, islock: false]\n    var loadDateArr = [\n        [redPacket, redPacketUrl, redPacketTemplate, false],\n        [cashAward, cashAwardUrl, cashAwardTemplate, false]\n    ];\n    var currIndex = 0;\n\n    //--------------------------------------------------【滚动加载数据】\n    function loadDateFn (strObj, urlType, tplfn, fn) {\n        return new LoadDate({\n            url: urlType['url'], // 接口地址(必须)\n            container: strObj, // load-container 容器对象(必须)\n            noListStr: '暂无记录', // 无记录时，显示的文本(缺省)\n\n            // 默认发送的data数据(缺省)  去除了page :1，不可为null\n            sendData: {\n                oauthToken:cookie.getCookie('qz_h5_oauthToken'),\n                appId:pageUrl.appId,\n                service:urlType['service'],\n                currentPage:1,\n                perNum:20\n            },\n            tplFn: function (data) {\n                fn && fn(data);\n                return tplfn(data.resultData);\n            },   // 传入data解析成html函数\n            callback: null\n        })\n    }\n    loadDateFn(loadDateArr[currIndex][0], loadDateArr[currIndex][1], loadDateArr[currIndex][2], function(){\n        loadDateArr[currIndex][3] = true;\n    });\n\n    //-------------------------------------------------- 【tab切换】\n    new Tab({\n        btnBox:document.getElementById('tabBtns'),\n        containBox:document.getElementById('tab-cont'),\n        btnActiveClass: 'on',\n        contActiveClass: 'active',\n        eventType:'click',\n        currentNum:0,\n        hrefParem:'',\n        callback: function(i){\n            if(loadDateArr[i][3] == false){\n                loadDateFn(loadDateArr[i][0], loadDateArr[i][1], loadDateArr[i][2], function(){\n                    loadDateArr[i][3] = true;\n                });\n            }\n        }\n    });\n    //--------------------------------------------------【暴露接口内存回收】\n    return function () {\n\n    };\n    //};\n});\n"]}