{"version":3,"sources":["proList.js"],"names":[],"mappings":"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","file":"proList-compiled.js","sourcesContent":["/**\n * 手机钱庄\n * @name 产品列表\n * @description 单页js\n * @date 2015-07-29\n */\ndefine(function (require, exports, module) {\n\n    require('zepto');\n    var pageUrl = require('module/ajax-map'),\n        LoadDate = require('module/load-data'),\n        Handlebars = require('module/handlebars-helper');\n\n    module.exports = function () {\n        //--------------------------------------------------【加载数据】\n        var loadDate = new LoadDate({\n            url: pageUrl.list.url, // 接口地址(必须)\n            container: '#proList', // load-container 容器对象(必须)\n            noListStr: '暂无记录', // 无记录时，显示的文本(缺省)\n\n            // 默认发送的data数据(缺省)  去除了page :1，不可为null\n            sendData: {\n                appId:pageUrl.appId,\n                service: pageUrl.list.service,\n                currentPage:1,\n                perNum:12\n            },\n            tplFn: function (data) {\n                var tpl = __inline('../tpl/proList.tpl'),\n                    template = Handlebars.compile(tpl); // 特别注明该处模版编译方法调用方式因版本而异\n\n                // 产品icon显示\n                Handlebars.registerHelper(\"helper-icon\", function () {\n                    var htmlStr = '';\n\n                    // 钱宝宝\n                    if (this.brType == 3) {\n                        return new Handlebars.SafeString('<div class=\"icon count-money\"></div>');\n                    }\n\n                    // 预售中\n                    if (this.productStatus == 0) {\n\n                        htmlStr += '<div class=\"icon progressbar\" style=\"background-image: url(\\'image\\/pro-list-progressbar\\/0.png\\')\">';\n                        htmlStr += '<div class=\"prepare\">';\n                        htmlStr += '<div class=\"tits\">'+this.preSaleTimeDes.split('_')[0]+'</div>';\n                        htmlStr += '<div class=\"conts\">'+this.preSaleTimeDes.split('_')[1]+'</div>';\n                        htmlStr += '</div>';\n                        htmlStr += '</div>';\n                        return new Handlebars.SafeString(htmlStr);\n                    }\n\n                    // 申购中\n                    if (this.productStatus == 1) {\n                        var rate = parseInt(this.accountYes / this.account*100);\n\n                        htmlStr += '<div class=\"icon progressbar\" style=\"background-image: url(\\'image/pro-list-progressbar/' + rate + '.png\\')\">';\n                        htmlStr += '<div class=\"progress\">' + rate + '<small>%</small></div>';\n                        htmlStr += '</div>';\n                        return new Handlebars.SafeString(htmlStr);\n                    }\n\n                    // 已售完\n                    if (this.productStatus == 2) {\n                        var rate = parseInt(this.accountYes / this.account*100);\n\n                        htmlStr += '<div class=\"icon progressbar\" style=\"background-image: url(\\'image/pro-list-progressbar\\/100.png\\')\">';\n                        htmlStr += '<div class=\"progress\">100<small>%</small></div>';\n                        htmlStr += '</div>';\n                        return new Handlebars.SafeString(htmlStr);\n                    }\n                    htmlStr += '<div class=\"icon-con\">';\n                    htmlStr += '<div class=\"icon progressbar\" style=\"background-image: url(\\'image\\/pro-list-progressbar\\/101.png\\')\">';\n                    htmlStr += '<div class=\"end\">抢光</div>';\n                    htmlStr += '</div>';\n                    htmlStr += '</div>';\n\n                    return new Handlebars.SafeString(htmlStr);\n                });\n\n                // 产品标签\n                Handlebars.registerHelper(\"helper-proMark\",function(){\n                    if(this.brType==3){\n                        return new Handlebars.SafeString('<span>火爆</span><i class=\"icon icon-pro-mark red\"></i>');\n                    }\n                    if(this.status==10){\n                        return new Handlebars.SafeString('<span>预售</span><i class=\"icon icon-pro-mark orange\"></i>');\n                    }\n                    if(this.isNewHand==1){\n                        return new Handlebars.SafeString('<span>新手</span><i class=\"icon icon-pro-mark green\"></i>');\n                    }\n                });\n\n                return template(data.resultData);\n            },   // 传入data解析成html函数\n            callback: null   // 载入完成后的回调函数(缺省)(用于绑定事件，注意尽量事件委托，并注意先off，免得重复绑定)\n        });\n\n        //--------------------------------------------------【暴露接口内存回收】\n        return function () {\n\n        }\n    };\n});"]}