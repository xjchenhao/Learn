{"version":3,"sources":["submit-ing.js"],"names":[],"mappings":"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","file":"submit-ing-compiled.js","sourcesContent":["/*\n * 1.0.3 按钮状态切换\n * */\n\n(function (root, factory) {\n    if (typeof define === 'function' && (define.amd || define.cmd)) {\n        define(function (exports) {\n            return factory(root, exports);\n        });\n    } else {\n        root.SubmitIng = factory(root, {});\n    }\n})(this, function (root, exports) {\n    \"use strict\";\n\n    var DISABLEDCLASS = 'disabled';\n\n    var SubmitIng = function (opts) {\n        this._opts = opts;\n        this._setting();\n    };\n\n    SubmitIng.prototype._setting = function () {\n        var self = this,\n            opts = self._opts;\n\n        // 初始化user data\n        self.elmBtn = opts.elmBtn;\n        self.startCallback = opts.startCallback || '';\n        self.endCallback = opts.endCallback || '';\n\n        // 提交状态\n        self.state = false;\n\n        // 是否是input\n        self.isInput = (function () {\n            return self.elmBtn.tagName === 'INPUT';\n        }());\n    };\n\n    SubmitIng.prototype.start = function (str) {\n        var self = this,\n            elmBtn = self.elmBtn;\n\n        // 保存原始值\n        if (!self.originalStr) {\n            self.originalStr = self.isInput ? elmBtn.value : elmBtn.innerHTML;\n        }\n\n        // 改变状态\n        if (self.isInput) {\n            elmBtn.value = str;\n        } else {\n            elmBtn.innerHTML = str;\n        }\n\n        elmBtn.setAttribute('disabled', 'true');\n        self._addClass(elmBtn, DISABLEDCLASS);\n        self.state = true;\n        self.startCallback && self.startCallback();\n    };\n\n    SubmitIng.prototype.end = function () {\n        var self = this,\n            elmBtn = self.elmBtn;\n\n        // 改变状态\n        if (self.isInput) {\n            elmBtn.value = self.originalStr;\n        } else {\n            elmBtn.innerHTML = self.originalStr;\n        }\n\n        elmBtn.removeAttribute('disabled');\n        self._removeClass(elmBtn, DISABLEDCLASS);\n        self.state = false;\n        self.endCallback && self.endCallback();\n    };\n\n    SubmitIng.prototype.destroy = function(){\n        var self = this,\n            elmBtn = self.elmBtn;\n\n        elmBtn.removeAttribute('disabled');\n        self._removeClass(elmBtn, DISABLEDCLASS);\n        self.state = false;\n    };\n\n    SubmitIng.prototype._addClass = function (obj, cls) {\n        var targetObj = obj;\n        if (typeof cls == 'string' && targetObj.nodeType === 1) {\n            if (!targetObj.className) {\n                targetObj.className = cls;\n            } else {\n                var a = (targetObj.className + ' ' + cls).match(/\\S+/g);\n                a.sort();\n                for (var i = a.length - 1; i > 0; --i)\n                    if (a[i] == a[i - 1]) a.splice(i, 1);\n                targetObj.className = a.join(' ');\n            }\n        }\n    };\n    SubmitIng.prototype._removeClass = function (obj, cls) {\n        var targetObj = obj;\n        if (targetObj.className && typeof cls === 'string' && targetObj.nodeType === 1) {\n            var classArr = targetObj.className.split(' ');\n            for (var i = 0, iLength = classArr.length; i < iLength; i++) {\n                if (classArr[i] === cls) {\n                    classArr.splice(i, 1);\n                }\n            }\n            targetObj.className = classArr.join(' ');\n        }\n    };\n\n    return SubmitIng;\n});\n"]}