{"version":3,"sources":["activate-btn.js"],"names":[],"mappings":"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","file":"activate-btn-compiled.js","sourcesContent":["/*input是否输入 1.1.4*/\n(function (root, factory) {\n    if (typeof define === 'function' && (define.amd || define.cmd)) {\n        define(function (require, exports, module) {\n            return factory(root, exports);\n        });\n    } else {\n        root.btnLight = factory(root);\n    }\n})(this, function (root, exports) {\n\n    var CHECK = 'data-activate-check',  // 要检查的input需要添加的属性\n        SUBMIT = 'data-activate-submit', // 关联按钮要添加的属性\n        DISABLED = 'disabled';  // 按钮禁用添加的class\n\n    var btnLight = function (obj) {\n\n        obj = obj || {};\n\n        // 传参赋值\n        this.contain = obj.contain || document;\n        this.elmBtn = obj.elmBtn || null;\n        this.disabledClass = DISABLED;\n\n        // 用于存储需要检查input是否有值的对象栈\n        this.inputArr = null;\n\n        // 初始化模块\n        this._init();\n\n        //绑定模块事件\n        this._handle();\n\n        //添加对象副本\n        btnLight.myConstructor = this;\n    };\n\n    btnLight.prototype = {\n\n        constructor: btnLight,\n\n        _init: function () {\n            var self = this,\n                elmBtnOne = self.elmBtn,\n                inputArr = self._getWants(self.contain, CHECK, 'input'),\n                i;\n            this.inputArr = inputArr;   //更新input对象栈\n\n            if (elmBtnOne === null) {\n                elmBtnOne = self._getWants(self.contain, SUBMIT, '*')[0];\n                self.elmBtn = elmBtnOne;\n            }\n\n            if (inputArr[0]) {\n\n                // 如果存在需要检测的input标签,则给提交按钮添加禁用样式和属性\n                for (i = 0; i < inputArr.length; i++) {\n                    if (!self._eval(inputArr[i].getAttribute(CHECK))) {\n                        return;\n                    } else {\n                        elmBtnOne.setAttribute(DISABLED, true);\n                        self._addClass(elmBtnOne, self.disabledClass);\n                    }\n                }\n\n                // 判断input栈里的属性是否已经有值了\n                if (self._iteration(self.inputArr)) {\n                    self.elmBtn.removeAttribute(DISABLED);\n                    self._removeClass(self.elmBtn, self.disabledClass);\n                } else {\n                    self.elmBtn.setAttribute(DISABLED, true);\n                    self._addClass(self.elmBtn, self.disabledClass);\n                }\n            }\n        },\n\n        _handle: function () {\n            var self = this,\n                inputArr = self._getWants(self.contain, CHECK, 'input'),\n                elmBtnOne = self.elmBtn;\n\n            self._event= {\n                getLight: function () {\n                    if (self._iteration(self.inputArr)) {\n                        self.elmBtn.removeAttribute(DISABLED);\n                        self._removeClass(self.elmBtn, self.disabledClass);\n                    } else {\n                        self.elmBtn.setAttribute(DISABLED, true);\n                        self._addClass(self.elmBtn, self.disabledClass);\n                    }\n                }\n            };\n\n            for (var i = 0, l = inputArr.length; i < l; i++) {\n                (function (i) {\n                    if(inputArr[i].type=='checkbox'){\n                        inputArr[i].addEventListener('change', self._event.getLight, false);\n                    }else{\n                        inputArr[i].addEventListener('input', self._event.getLight, false);\n                        //inputArr[i].addEventListener('keyup', self._event.getLight, false);\n                        //inputArr[i].addEventListener('paste', self._event.getLight, false);\n                    }\n                }(i));\n            }\n        },\n\n        _iteration: function (inputArr) {\n            var self = this,\n                inputArr = self._getWants(self.contain, CHECK, 'input');\n            for (var j = 0, l = inputArr.length; j < l; j++) {\n                if(inputArr[j].type=='checkbox'){\n                    if (!inputArr[j].checked) {\n                        return false;\n                    }\n                }else{\n                    if (!inputArr[j].value) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        },\n\n        _eval: function (val) {\n            return (new Function(\"return \" + val))();\n        },\n\n        _getWants: function (oParent, oWants, tag) {\n            var i,\n                oEle = oParent.getElementsByTagName(tag),\n                aResult = [];\n            for (i = 0; i < oEle.length; i++) {\n\n                if (oEle[i].getAttribute(oWants) && this._eval(oEle[i].getAttribute(oWants))) {\n                    aResult.push(oEle[i]);\n                }\n\n            }\n            return aResult;\n        },\n        _addClass: function (obj, cls) {\n            var targetObj = this.isErrorOnParent ? obj.parentElement : obj;\n            if (typeof cls == 'string' && targetObj.nodeType === 1) {\n                if (!targetObj.className) {\n                    targetObj.className = cls;\n                } else {\n                    var a = (targetObj.className + ' ' + cls).match(/\\S+/g);\n                    a.sort();\n                    for (var i = a.length - 1; i > 0; --i)\n                        if (a[i] == a[i - 1]) a.splice(i, 1);\n                    targetObj.className = a.join(' ');\n                }\n            }\n        },\n        _removeClass: function (obj, cls) {\n            var targetObj = this.isErrorOnParent ? obj.parentElement : obj;\n            if (targetObj.className && typeof cls === 'string' && targetObj.nodeType === 1) {\n                var classArr = targetObj.className.split(' ');\n                for (var i = 0, iLength = classArr.length; i < iLength; i++) {\n                    if (classArr[i] === cls) {\n                        classArr.splice(i, 1);\n                    }\n                }\n                targetObj.className = classArr.join(' ');\n            }\n        },\n        destroy: function () {\n            var self = this,\n                inputArr = self.inputArr;\n            for (var i = 0, l = inputArr.length; i < l; i++) {\n                if(inputArr[i].type=='checkbox'){\n                    inputArr[i].removeEventListener('change', self._event.getLight, false);\n                }else{\n                    inputArr[i].removeEventListener('input', self._event.getLight, false);\n                    //inputArr[i].removeEventListener('keyup', self._event.getLight, false);\n                    //inputArr[i].removeEventListener('paste', self._event.getLight, false);\n                }\n            }\n        }\n    };\n\n    return btnLight;\n});"]}